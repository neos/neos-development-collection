`3.1.4 (2017-07-27) <https://github.com/neos/neos-development-collection/releases/tag/3.1.4>`_
==============================================================================================

Overview of merged pull requests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

`BUGFIX: Moving node back and forth in nested workspace causes SQL error <https://github.com/neos/neos-development-collection/pull/1640>`_
------------------------------------------------------------------------------------------------------------------------------------------

This change fixes a problem in the content repository which can lead to a uniqueness constraint error when a node is moved back and forth in a nested workspace.

Fixes #1639 

`BUGFIX: Prevent space if no css class is given <https://github.com/neos/neos-development-collection/pull/1650>`_
-----------------------------------------------------------------------------------------------------------------

If no `attributes.class` is given the attribute always starts with space. Like that the attributes get trimmed.

### Output before:
`class=" foo-bar-content"`

### Output after:
`class="foo-bar-content"`

`BUGFIX: Valid URLs with \`supportEmptySegmentForDimensions\` <https://github.com/neos/neos-development-collection/pull/1645>`_
-------------------------------------------------------------------------------------------------------------------------------

Makes sure that generated URLs observe the setting.

Fixes: #1644

`BUGFIX: cut off long-form processor syntax in ContentElementWrappingImplementation <https://github.com/neos/neos-development-collection/pull/1635>`_
-----------------------------------------------------------------------------------------------------------------------------------------------------

In the change https://github.com/neos/neos/commit/`c4f64615297503b5577e5c863758d2a9b480433d <https://github.com/neos/neos-development-collection/commit/c4f64615297503b5577e5c863758d2a9b480433d>`_,
the default @process.contentElementWrapping on Neos.Neos:Content was changed from
@process.contentElementWrapping to the long form
"@process.contentElementWrapping.expression" (so it was possible to specify
a position).

However, this meant the Fusion path in Frontend for such an element was calculated wrongly;
It appended __meta/process/contentElementWrapping/expression<Neos.Neos:ContentElementWrapping>
to the fusionPath in the DOM.

For the "old" Neos (ember-based) UI, everything works pretty much as expected (it's
quite hard to construct a scenario where this would trigger an actual bug); but
the new React UI gets confused with rendering the element when the Fusion path is wrong.
And as it is a core bug, let's fix it in the core.

* Packages: ``Neos``

`BUGFIX: Trigger ContentCacheFlusher on asset update <https://github.com/neos/neos-development-collection/pull/1646>`_
----------------------------------------------------------------------------------------------------------------------

The content cache does not invalidate on changes to an asset. Expected behavior would be to flush the content cache on changes to an asset (e.g title, caption).

Neos 2.3 PR of: https://github.com/neos/neos-development-collection/pull/1636

`BUGFIX: Hide disabled modules in submodule overviews <https://github.com/neos/neos-development-collection/pull/1643>`_
-----------------------------------------------------------------------------------------------------------------------

When a module has been disabled using the `disabled` flag, the module is hidden from the main menu and cannot be accessed, however it was still being displayed in submodule overviews.

* Packages: ``Neos``

`BUGFIX: Trigger ContentCacheFlusher on asset update <https://github.com/neos/neos-development-collection/pull/1636>`_
----------------------------------------------------------------------------------------------------------------------

The content cache does not invalidate on changes to an asset. Expected behavior would
be to flush the content cache on changes to an asset (e.g title, caption).

* Packages: ``Neos``

`BUGFIX: Set default value for event uid on PostgreSQL <https://github.com/neos/neos-development-collection/pull/1620>`_
------------------------------------------------------------------------------------------------------------------------

It seems that the default value set previously does not survive
renaming the sequence. This leads to errors when events are to be
persisted.

This change adds the expected default value (back).

* Packages: ``Neos``

`Detailed log <https://github.com/neos/neos-development-collection/compare/3.1.3...3.1.4>`_
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
