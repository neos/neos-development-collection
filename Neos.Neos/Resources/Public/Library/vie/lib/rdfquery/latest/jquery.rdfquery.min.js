(function(c){var d={},a=/^(([a-z][\-a-z0-9+\.]*):)?(\/\/([^\/?#]+))?([^?#]*)?(\?([^#]*))?(#(.*))?$/i,g,b=function(j){var h=j.match(a);if(h===null){throw"Malformed URI: "+j}return{scheme:h[1]?h[2].toLowerCase():undefined,authority:h[3]?h[4]:undefined,path:h[5]||"",query:h[6]?h[7]:undefined,fragment:h[8]?h[9]:undefined}},f=function(j){var k="",h=[];if(/\./.test(j)){while(j!==undefined&&j!==""){if(j==="."||j===".."){j=""}else{if(/^\.\.\//.test(j)){j=j.substring(3)}else{if(/^\.\//.test(j)){j=j.substring(2)}else{if(/^\/\.(\/|$)/.test(j)){j="/"+j.substring(3)}else{if(/^\/\.\.(\/|$)/.test(j)){j="/"+j.substring(4);k=k.replace(/\/?[^\/]+$/,"")}else{h=j.match(/^(\/?[^\/]*)(\/.*)?$/);j=h[2];k=k+h[1]}}}}}}return k}else{return j}},e=function(h,j){if(h.authority!==""&&(h.path===undefined||h.path==="")){return"/"+j}else{return h.path.replace(/[^\/]+$/,"")+j}};c.uri=function(k,j){var h;k=k||"";if(d[k]){return d[k]}j=j||c.uri.base();if(typeof j==="string"){j=c.uri.absolute(j)}h=new c.uri.fn.init(k,j);if(d[h]){return d[h]}else{d[h]=h;return h}};c.uri.fn=c.uri.prototype={scheme:undefined,authority:undefined,path:undefined,query:undefined,fragment:undefined,init:function(k,j){var h={};j=j||{};c.extend(this,b(k));if(this.scheme===undefined){this.scheme=j.scheme;if(this.authority!==undefined){this.path=f(this.path)}else{this.authority=j.authority;if(this.path===""){this.path=j.path;if(this.query===undefined){this.query=j.query}}else{if(!/^\//.test(this.path)){this.path=e(j,this.path)}this.path=f(this.path)}}}if(this.scheme===undefined){throw"Malformed URI: URI is not an absolute URI and no base supplied: "+k}return this},resolve:function(h){return c.uri(h,this)},relative:function(q){var n,o,m=0,k,l=[],h="";if(typeof q==="string"){q=c.uri(q,{})}if(q.scheme!==this.scheme||q.authority!==this.authority){return q.toString()}if(q.path!==this.path){n=q.path.split("/");o=this.path.split("/");if(n[1]!==o[1]){h=q.path}else{while(n[m]===o[m]){m+=1}k=m;for(;m<o.length-1;m+=1){l.push("..")}for(;k<n.length;k+=1){l.push(n[k])}h=l.join("/")}h=q.query===undefined?h:h+"?"+q.query;h=q.fragment===undefined?h:h+"#"+q.fragment;return h}if(q.query!==undefined&&q.query!==this.query){return"?"+q.query+(q.fragment===undefined?"":"#"+q.fragment)}if(q.fragment!==undefined&&q.fragment!==this.fragment){return"#"+q.fragment}return""},toString:function(){var h="";if(this._string){return this._string}else{h=this.scheme===undefined?h:(h+this.scheme+":");h=this.authority===undefined?h:(h+"//"+this.authority);h=h+this.path;h=this.query===undefined?h:(h+"?"+this.query);h=this.fragment===undefined?h:(h+"#"+this.fragment);this._string=h;return h}}};c.uri.fn.init.prototype=c.uri.fn;c.uri.absolute=function(h){return c.uri(h,{})};c.uri.resolve=function(j,h){return c.uri(j,h)};c.uri.relative=function(j,h){return c.uri(h,{}).relative(j)};c.uri.base=function(){return c(document).base()};c.fn.base=function(){var h=c(this).parents().andSelf().find("base").attr("href"),j=c(this)[0].ownerDocument||document,k=c.uri.absolute(j.location===null?document.location.href:j.location.href);return h===undefined?k:c.uri(h,k)}})(jQuery);(function(e){var a="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",c=/\sxmlns(?::([^ =]+))?\s*=\s*(?:"([^"]*)"|'([^']*)')/g,f="[-A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\u00B7\u0300-\u036F\u203F-\u2040]",b="[\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]",d=new RegExp("^"+b+f+"*$");e.fn.xmlns=function(m,j,n){var k=this.eq(0),r=k.data("xmlns"),o=k[0],s,h,l,q=m?"xmlns:"+m:"xmlns",t,w,u=false;if(j===undefined){if(m===undefined){if(!r){r={};if(o.attributes&&o.attributes.getNamedItemNS){for(l=0;l<o.attributes.length;l+=1){s=o.attributes[l];if(/^xmlns(:(.+))?$/.test(s.nodeName)){m=/^xmlns(:(.+))?$/.exec(s.nodeName)[2]||"";t=s.nodeValue;if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s.nodeValue);u=true}}}}else{w=/<[^>]+>/.exec(o.outerHTML);s=c.exec(w);while(s!==null){m=s[1]||"";t=s[2]||s[3];if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s[2]||s[3]);u=true}s=c.exec(w)}c.lastIndex=0}n=n||(o.parentNode.nodeType===1?k.parent().xmlns():{});r=u?e.extend({},n,r):n;k.data("xmlns",r)}return r}else{if(typeof m==="object"){for(h in m){if(typeof m[h]==="string"&&d.test(h)){this.xmlns(h,m[h])}}this.find("*").andSelf().removeData("xmlns");return this}else{if(!r){r=k.xmlns()}return r[m]}}}else{this.find("*").andSelf().removeData("xmlns");return this.attr(q,j)}};e.fn.removeXmlns=function(k){var h,l,j;if(typeof k==="object"){if(k.length===undefined){for(l in k){if(typeof k[l]==="string"){this.removeXmlns(l)}}}else{for(j=0;j<k.length;j+=1){this.removeXmlns(k[j])}}}else{h=k?"xmlns:"+k:"xmlns";this.removeAttr(h)}this.find("*").andSelf().removeData("xmlns");return this};e.fn.qname=function(j){var h,l,k;if(j===undefined){if(this[0].outerHTML===undefined){j=this[0].nodeName.toLowerCase()}else{j=/<([^ >]+)/.exec(this[0].outerHTML)[1].toLowerCase()}}if(j==="?xml:namespace"){throw"XMLinHTML: Unable to get the prefix to resolve the name of this element"}h=/^(([^:]+):)?([^:]+)$/.exec(j);l=h[2]||"";k=this.xmlns(l);if(k===undefined&&l!==""){throw"MalformedQName: The prefix "+l+" is not declared"}return{namespace:k,localPart:h[3],prefix:l,name:j}}})(jQuery);(function(b){var a=function(c){return c.replace(/[ \t\n\r]+/," ").replace(/^ +/,"").replace(/ +$/,"")};b.typedValue=function(d,c){return b.typedValue.fn.init(d,c)};b.typedValue.fn=b.typedValue.prototype={representation:undefined,value:undefined,datatype:undefined,init:function(e,c){var f=b.typedValue.types[c];if(true){this.representation=e;this.datatype=c;this.value=f===undefined?a(e):f.value(f.strip?a(e):e);return this}else{throw {name:"InvalidValue",message:e+" is not a valid "+c+" value"}}}};b.typedValue.fn.init.prototype=b.typedValue.fn;b.typedValue.types={};b.typedValue.types["http://www.w3.org/2001/XMLSchema#string"]={regex:/^.*$/,strip:false,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#token"]={regex:/^.*$/,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#NCName"]={regex:/^[a-z_][-\.a-z0-9]+$/i,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#boolean"]={regex:/^(?:true|false|1|0)$/,strip:true,value:function(c){return c==="true"||c==="1"}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#decimal"]={regex:/^[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)$/,strip:true,value:function(c){c=c.replace(/^0+/,"").replace(/0+$/,"");if(c===""){c="0.0"}if(c.substring(0,1)==="."){c="0"+c}if(/\.$/.test(c)){c=c+"0"}else{if(!/\./.test(c)){c=c+".0"}}return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#integer"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#int"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"]={regex:/^(?:[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)(?:[eE][\-\+]?[0-9]+)?|[\-\+]?INF|NaN)$/,strip:true,value:function(c){if(c==="-INF"){return -1/0}else{if(c==="INF"||c==="+INF"){return 1/0}else{return parseFloat(c)}}}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#double"]={regex:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].regex,strip:true,value:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].value};b.typedValue.types["http://www.w3.org/2001/XMLSchema#duration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:([0-9]+(?:\.[0-9]+)?)?S)?)$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]||c[4]||c[5]||c[6]||c[7]},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#yearMonthDuration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]},strip:true,value:function(e){var d=this.regex.exec(e),f=d[2]||0,c=d[3]||0;c+=f*12;return d[1]==="-"?-1*c:c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#dateTime"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):(([0-9]{2})(\.([0-9]+))?)((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(d){var c=this.regex.exec(d),g=parseInt(c[1],10),j=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,""),f;if(g===0||parseInt(j,10)<-1400||parseInt(j,10)>1400){return false}try{g=g<100?Math.abs(g)+1000:g;month=parseInt(c[2],10);day=parseInt(c[3],10);if(day>31){return false}else{if(day>30&&!(month===1||month===3||month===5||month===7||month===8||month===10||month===12)){return false}else{if(month===2){if(day>29){return false}else{if(day===29&&(g%4!==0||(g%100===0&&g%400!==0))){return false}}}}}f=""+g+"/"+c[2]+"/"+c[3]+" "+c[4]+":"+c[5]+":"+c[7]+" "+j;f=new Date(f);return true}catch(h){return false}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#date"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),g=parseInt(c[2],10),d=parseInt(c[3],10),h=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,"");if(f===0||g>12||d>31||parseInt(h,10)<-1400||parseInt(h,10)>1400){return false}else{return true}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gYear"]={regex:/^-?([0-9]{4,})$/,validate:function(c){var d=parseInt(c,10);return d!==0},strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gMonthDay"]={regex:/^--([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),d=parseInt(c[2],10),g=c[3]===undefined||c[3]==="Z"?"+0000":c[3].replace(/:/,"");if(f>12||d>31||parseInt(g,10)<-1400||parseInt(g,10)>1400){return false}else{if(f===2&&d>29){return false}else{if((f===4||f===6||f===9||f===11)&&d>30){return false}else{return true}}}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#anyURI"]={regex:/^.*$/,strip:true,value:function(c,d){var e=b.extend({},b.typedValue.defaults,d);return b.uri.resolve(c,e.base)}};b.typedValue.defaults={base:b.uri.base(),namespaces:{}};b.typedValue.valid=function(e,c){var f=b.typedValue.types[c];if(f===undefined){return true}else{e=f.strip?a(e):e;if(f.regex.test(e)){return f.validate===undefined?true:f.validate(e)}else{return false}}}})(jQuery);(function(a){a.curie=function(f,c){var g=a.extend({},a.curie.defaults,c||{}),b=/^(([^:]*):)?(.+)$/.exec(f),h=b[2],d=b[3],e=g.namespaces[h];if(/^:.+/.test(f)){if(g.reservedNamespace===undefined||g.reservedNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.reservedNamespace}}else{if(h){if(e===undefined){throw"Malformed CURIE: No namespace binding for "+h+" in CURIE "+f}}else{if(g.charcase==="lower"){f=f.toLowerCase()}else{if(g.charcase==="upper"){f=f.toUpperCase()}}if(g.reserved.length&&a.inArray(f,g.reserved)>=0){e=g.reservedNamespace;d=f}else{if(g.defaultNamespace===undefined||g.defaultNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.defaultNamespace}}}}return a.uri(e+d)};a.curie.defaults={namespaces:{},reserved:[],reservedNamespace:undefined,defaultNamespace:undefined,charcase:"preserve"};a.safeCurie=function(d,c){var b=/^\[([^\]]+)\]$/.exec(d);return b?a.curie(b[1],c):a.uri(d)};a.createCurie=function(f,b){var e=a.extend({},a.curie.defaults,b||{}),d=e.namespaces,c;f=a.uri(f).toString();if(e.reservedNamespace!==undefined&&f.substring(0,e.reservedNamespace.toString().length)===e.reservedNamespace.toString()){c=f.substring(e.reservedNamespace.toString().length);if(a.inArray(c,e.reserved)===-1){c=":"+c}}else{a.each(d,function(h,g){if(f.substring(0,g.toString().length)===g.toString()){c=h+":"+f.substring(g.toString().length);return null}})}if(c===undefined){throw"No Namespace Binding: There's no appropriate namespace binding for generating a CURIE from "+f}else{return c}};a.fn.curie=function(c,b){var d=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.curie(c,d)};a.fn.safeCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.safeCurie(d,c)};a.fn.createCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.createCurie(d,c)};a.fn.curie.defaults={reserved:["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],reservedNamespace:"http://www.w3.org/1999/xhtml/vocab#",defaultNamespace:undefined,charcase:"lower"}})(jQuery);(function(E){var f={},c={},t={},D={},r={},h="http://www.w3.org/2001/XMLSchema#",w="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u="http://www.w3.org/2000/01/rdf-schema#",z=/^<(([^>]|\\>)*)>$/,O=/^("""((\\"|[^"])*)"""|"((\\"|[^"])*)")(@([a-z]+(-[a-z0-9]+)*)|\^\^(.+))?$/,g=/(("""((\\"|[^"])*)""")|("(\\"|[^"]|)*")|(<(\\>|[^>])*>)|\S)+/g,x=databankSeed=new Date().getTime()%1000,j=function(){x+=1;return"b"+x.toString(16)},H=function(){databankSeed+=1;return"data"+databankSeed.toString(16)},I={},N={},k=function(R,S){if(typeof R==="string"){try{return E.rdf.resource(R,S)}catch(U){try{return E.rdf.blank(R,S)}catch(T){throw"Bad Triple: Subject "+R+" is not a resource: "+T}}}else{return R}},M=function(S,R){if(S==="a"){return E.rdf.type}else{if(typeof S==="string"){try{return E.rdf.resource(S,R)}catch(T){throw"Bad Triple: Property "+S+" is not a resource: "+T}}else{return S}}},J=function(R,T){if(typeof R==="string"){try{return E.rdf.resource(R,T)}catch(V){try{return E.rdf.blank(R,T)}catch(U){try{return E.rdf.literal(R,T)}catch(S){throw"Bad Triple: Object "+R+" is not a resource or a literal "+S}}}}else{return R}},a=function(U,S,T){var R;if(typeof S==="string"){R=S.substring(1);if(T[R]&&T[R]!==U){return null}else{T[R]=U;return T}}else{if(S===U){return T}else{return null}}},P=function(R,S){if(R.union===undefined){if(S.subject.type!==undefined){if(R.subjectIndex[S.subject]===undefined){return[]}return E.map(R.subjectIndex[S.subject],function(T){var U=S.exec(T);return U===null?null:{bindings:U,triples:[T]}})}else{if(S.object.type==="uri"||S.object.type==="bnode"){if(R.objectIndex[S.object]===undefined){return[]}return E.map(R.objectIndex[S.object],function(T){var U=S.exec(T);return U===null?null:{bindings:U,triples:[T]}})}else{if(S.property.type!==undefined){if(R.propertyIndex[S.property]===undefined){return[]}return E.map(R.propertyIndex[S.property],function(T){var U=S.exec(T);return U===null?null:{bindings:U,triples:[T]}})}}}}return E.map(R.triples(),function(T){var U=S.exec(T);return U===null?null:{bindings:U,triples:[T]}})},q=function(R,T,S){return E.map(R,function(W,U){var V=E.map(T,function(Z){var Y,X,aa=true;for(Y in Z.bindings){X=Z.bindings[Y];if(!(W.bindings[Y]===undefined||W.bindings[Y]===X)){aa=false;break}}return aa?Z:null});if(V.length>0){return E.map(V,function(X){return{bindings:E.extend({},W.bindings,X.bindings),triples:b(W.triples.concat(X.triples))}})}else{return S?W:null}})},Q=function(R,T){var S,U,V;if(T.filterExp!==undefined&&!E.isFunction(T.filterExp)){if(R.union===undefined){S=typeof T.filterExp.subject==="string"?"":T.filterExp.subject;U=typeof T.filterExp.property==="string"?"":T.filterExp.property;V=typeof T.filterExp.object==="string"?"":T.filterExp.object;if(R.queries[S]===undefined){R.queries[S]={}}if(R.queries[S][U]===undefined){R.queries[S][U]={}}if(R.queries[S][U][V]===undefined){R.queries[S][U][V]=[]}R.queries[S][U][V].push(T)}else{E.each(R.union,function(X,W){Q(W,T)})}}},A=function(R){R.length=0;R.matches=[];E.each(R.children,function(S,T){A(T)});E.each(R.partOf,function(S,T){A(T)})},F=function(S,R){if(R.length>0){E.each(S.children,function(T,U){G(U,R)});E.each(S.partOf,function(T,U){F(U,R)});E.each(R,function(U,T){S.matches.push(T);Array.prototype.push.call(S,T.bindings)})}},n=function(aa,ad){var Y,S,ae,X,W,V,ac,R=ad.length,U,Z={},T={},af={},ab=[];for(Y=0;Y<aa.length;Y+=1){S=aa[Y].bindings;ae=aa[Y].triples;T=af;for(X=0;X<R;X+=1){V=ad[X];ac=S[V];if(X===R-1){if(T[ac]===undefined){Z={bindings:{},triples:ae};for(W=0;W<R;W+=1){Z.bindings[ad[W]]=S[ad[W]]}T[ac]=Z;ab.push(Z)}else{Z=T[ac];Z.triples=Z.triples.concat(ae)}}else{if(T[ac]===undefined){T[ac]={}}T=T[ac]}}}return ab},K=function(X,R){var V,S,U,W={},T=[];for(V=0;V<X.length;V+=1){S=X[V];if(W[S.bindings[R]]===undefined){U={bindings:{node:S.bindings[R]},triples:S.triples};T.push(U);W[S.bindings[R]]=U}else{U=W[S.bindings[R]];U.triples=U.triples.concat(S.triples)}}return T},G=function(T,S){var R;if(T.union===undefined){if(T.top||T.parent.top){R=T.alphaMemory}else{S=S||T.parent.matches;if(E.isFunction(T.filterExp)){R=E.map(S,function(U,V){return T.filterExp.call(U.bindings,V,U.bindings,U.triples)?U:null})}else{if(T.filterExp!==undefined){R=q(S,T.alphaMemory,T.filterExp.optional)}else{R=S}}}}else{R=E.map(T.union,function(U){return U.matches})}if(T.selections!==undefined){R=n(R,T.selections)}else{if(T.navigate!==undefined){R=K(R,T.navigate)}}F(T,R)},o=function(T,S){var R;if(T.filterExp.optional){A(T);G(T)}else{if(T.top||T.parent.top){R=[S]}else{R=q(T.parent.matches,[S],false)}F(T,R)}},L=function(S,T){var R,U=S.filterExp.exec(T);if(U!==null){R={triples:[T],bindings:U};S.alphaMemory.push(R);o(S,R)}},d=function(R,S){R.alphaMemory.splice(E.inArray(S,R.alphaMemory),1);A(R);G(R)},C=function(R,S){E.each(R,function(T,U){L(U,S)})},m=function(R,S){E.each(R,function(T,U){d(U,S)})},e=function(R,V){var S=V.subject,T=V.property,U=V.object;if(R.union===undefined){if(R.queries[S]!==undefined){if(R.queries[S][T]!==undefined){if(R.queries[S][T][U]!==undefined){C(R.queries[S][T][U],V)}if(R.queries[S][T][""]!==undefined){C(R.queries[S][T][""],V)}}if(R.queries[S][""]!==undefined){if(R.queries[S][""][U]!==undefined){C(R.queries[S][""][U],V)}if(R.queries[S][""][""]!==undefined){C(R.queries[S][""][""],V)}}}if(R.queries[""]!==undefined){if(R.queries[""][T]!==undefined){if(R.queries[""][T][U]!==undefined){C(R.queries[""][T][U],V)}if(R.queries[""][T][""]!==undefined){C(R.queries[""][T][""],V)}}if(R.queries[""][""]!==undefined){if(R.queries[""][""][U]!==undefined){C(R.queries[""][""][U],V)}if(R.queries[""][""][""]!==undefined){C(R.queries[""][""][""],V)}}}}else{E.each(R.union,function(X,W){e(W,V)})}},s=function(R,V){var S=V.subject,T=V.property,U=V.object;if(R.union===undefined){if(R.queries[S]!==undefined){if(R.queries[S][T]!==undefined){if(R.queries[S][T][U]!==undefined){m(R.queries[S][T][U],V)}if(R.queries[S][T][""]!==undefined){m(R.queries[S][T][""],V)}}if(R.queries[S][""]!==undefined){if(R.queries[S][""][U]!==undefined){m(R.queries[S][""][U],V)}if(R.queries[S][""][""]!==undefined){m(R.queries[S][""][""],V)}}}if(R.queries[""]!==undefined){if(R.queries[""][T]!==undefined){if(R.queries[""][T][U]!==undefined){m(R.queries[""][T][U],V)}if(R.queries[""][T][""]!==undefined){m(R.queries[""][T][""],V)}}if(R.queries[""][""]!==undefined){if(R.queries[""][""][U]!==undefined){m(R.queries[""][""][U],V)}if(R.queries[""][""][""]!==undefined){m(R.queries[""][""][""],V)}}}}else{E.each(R.union,function(X,W){s(W,V)})}},y=function(Y,X,V){var R=X[0],U={},T=[],S,W;V=V||{};if(X.length===0){for(S=0;S<Y.length;S+=1){for(v in Y[S]){if(V[v]===undefined){V[v]=[]}if(E.isArray(V[v])){V[v].push(Y[S][v])}}}return[V]}for(S=0;S<Y.length;S+=1){key=Y[S][R];if(U[key]===undefined){U[key]=[]}U[key].push(Y[S])}X=X.splice(1,1);for(v in U){W=E.extend({},V);W[R]=U[v][0][R];T=T.concat(y(U[v],X,W))}return T},l=function(R,S,T){if(N[R.id]===undefined){N[R.id]={}}if(N[R.id][S]===undefined){N[R.id][S]=T;return false}return true},B=function(S,U,R,T){var V=N[S.id][U];if(E.isFunction(V[R])){V[R].call(S,T)}N[S.id][U]=undefined},b=function(R){var T=[];var S=R.length;for(var V=0;V<S;V++){for(var U=V+1;U<S;U++){if(R[V]===R[U]){U=++V}}T.push(R[V])}return T};E.typedValue.types["http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"]={regex:/^.*$/m,strip:false,value:function(R){return R}};E.rdf=function(R){return new E.rdf.fn.init(R)};E.rdf.fn=E.rdf.prototype={rdfquery:"1.1",init:function(R){var T,S;R=R||{};this.parent=R.parent;this.union=R.union;this.top=this.parent===undefined&&this.union===undefined;if(this.union===undefined){if(R.databank===undefined){this.databank=this.parent===undefined?E.rdf.databank(R.triples,R):this.parent.databank}else{this.databank=R.databank}}else{T=E.map(this.union,function(U){return U.databank});T=b(T);if(T[1]!==undefined){this.databank=E.rdf.databank(undefined,{union:T})}else{this.databank=T[0]}}this.children=[];this.partOf=[];this.filterExp=R.filter;this.selections=R.distinct;this.navigate=R.navigate;this.alphaMemory=[];this.matches=[];this.length=0;if(this.filterExp!==undefined){if(!E.isFunction(this.filterExp)){Q(this.databank,this);this.alphaMemory=P(this.databank,this.filterExp)}}else{if(R.nodes!==undefined){this.alphaMemory=[];for(S=0;S<R.nodes.length;S+=1){this.alphaMemory.push({bindings:{node:R.nodes[S]},triples:[]})}}}G(this);return this},base:function(R){if(R===undefined){return this.databank.base()}else{this.databank.base(R);return this}},prefix:function(S,R){if(R===undefined){return this.databank.prefix(S)}else{this.databank.prefix(S,R);return this}},add:function(U,S){var T,R;if(U.rdfquery!==undefined){if(U.top){R=this.databank.add(U.databank);T=E.rdf({parent:this.parent,databank:R});return T}else{if(this.top){R=U.databank.add(this.databank);T=E.rdf({parent:U.parent,databank:R});return T}else{if(this.union===undefined){T=E.rdf({union:[this,U]});this.partOf.push(T);U.partOf.push(T);return T}else{this.union.push(U);U.partOf.push(this)}}}}else{if(typeof U==="string"){S=E.extend({},{base:this.base(),namespaces:this.prefix(),source:U},S);U=E.rdf.pattern(U,S)}if(U.isFixed()){this.databank.add(U.triple(),S)}else{T=this;this.each(function(W,X){var V=U.triple(X);if(V!==null){T.databank.add(V,S)}})}}return this},remove:function(S,R){if(typeof S==="string"){R=E.extend({},{base:this.base(),namespaces:this.prefix()},R);S=E.rdf.pattern(S,R)}if(S.isFixed()){this.databank.remove(S.triple(),R)}else{query=this;this.each(function(U,V){var T=S.triple(V);if(T!==null){query.databank.remove(T,R)}})}return this},load:function(T,R){var S=this,R=R||{},U=R.success;if(U!==undefined){R.success=function(){U.call(S)}}this.databank.load(T,R);return this},except:function(R){return E.rdf({databank:this.databank.except(R.databank)})},where:function(T,S){var W,V,U,R;S=S||{};if(typeof T==="string"){V=S.base||this.base();U=E.extend({},this.prefix(),S.namespaces||{});R=S.optional||false;T=E.rdf.pattern(T,{namespaces:U,base:V,optional:R})}W=E.rdf(E.extend({},S,{parent:this,filter:T}));this.children.push(W);return W},optional:function(S,R){return this.where(S,E.extend({},R||{},{optional:true}))},about:function(S,R){return this.where(S+" ?property ?value",R)},filter:function(T,U){var R,S;if(typeof T==="string"){if(U.constructor===RegExp){R=function(){return U.test(this[T].value)}}else{R=function(){return this[T].type==="literal"?this[T].value===U:this[T]===U}}}else{R=T}S=E.rdf({parent:this,filter:R});this.children.push(S);return S},node:function(T){var R,S;if(T.toString().substring(0,1)==="?"){R=T.toString().substring(1);S=E.rdf({parent:this,navigate:R})}else{if(typeof T==="string"){T=J(T,{namespaces:this.prefix(),base:this.base()})}S=E.rdf({parent:this,nodes:[T]})}this.children.push(S);return S},find:function(R){return this.where("?node "+R+" ?object",{navigate:"object"})},back:function(R){return this.where("?subject "+R+" ?node",{navigate:"subject"})},group:function(W){var V={},U=[],T,S,R;if(!E.isArray(W)){W=[W]}return E(y(this,W))},select:function(U){var T=[],S,R;for(S=0;S<this.length;S+=1){if(U===undefined){T[S]=this[S]}else{T[S]={};for(R=0;R<U.length;R+=1){T[S][U[R]]=this[S][U[R]]}}}return T},describe:function(V){var S,R,U,T=[];for(S=0;S<V.length;S+=1){U=V[S];if(U.substring(0,1)==="?"){U=U.substring(1);for(R=0;R<this.length;R+=1){T.push(this[R][U])}}else{T.push(U)}}return this.databank.describe(T)},eq:function(R){return this.filter(function(S){return S===R})},reset:function(){var R=this;while(R.parent!==undefined){R=R.parent}return R},end:function(){return this.parent},size:function(){return this.length},sources:function(){return E(E.map(this.matches,function(R){return[R.triples]}))},dump:function(R){var S=E.map(this.matches,function(T){return T.triples});R=E.extend({namespaces:this.databank.namespaces,base:this.databank.base},R||{});return E.rdf.dump(S,R)},get:function(R){return(R===undefined)?E.makeArray(this):this[R]},each:function(R){E.each(this.matches,function(T,S){R.call(S.bindings,T,S.bindings,S.triples)});return this},map:function(R){return E(E.map(this.matches,function(S,T){return R.call(S.bindings,T,S.bindings,S.triples)}))},jquery:function(){return E(this)}};E.rdf.fn.init.prototype=E.rdf.fn;E.rdf.gleaners=[];E.rdf.parsers={};E.rdf.dump=function(Y,R){var U=E.extend({},E.rdf.dump.defaults,R||{}),W=U.format,T=U.serialize,V,X,S;X=E.rdf.parsers[W];if(X===undefined){S=[];for(p in E.rdf.parsers){S.push(p)}throw"Unrecognised dump format: "+W+". Expected one of "+S.join(", ")}V=X.dump(Y,U);return T?X.serialize(V):V};E.rdf.dump.defaults={format:"application/json",serialize:false,indent:false,namespaces:{}};E.fn.rdf=function(S){var R=[],S=S||function(){return this};if(E(this)[0]&&E(this)[0].nodeType===9){return E(this).children("*").rdf(S)}else{if(E(this).length>0){R=E(this).map(function(T,U){return E.map(E.rdf.gleaners,function(V){return V.call(E(U),{callback:S})})});return E.rdf({triples:R,namespaces:E(this).xmlns()})}else{return E.rdf()}}};E.extend(E.expr[":"],{about:function(S,U,R){var T=E(S),W=R[3]?T.safeCurie(R[3]):null,V=false;E.each(E.rdf.gleaners,function(X,Y){V=Y.call(T,{about:W});if(V){return null}});return V},type:function(S,U,R){var T=E(S),V=R[3]?T.curie(R[3]):null,W=false;E.each(E.rdf.gleaners,function(X,Y){if(Y.call(T,{type:V})){W=true;return null}});return W}});E.rdf.databank=function(S,R){return new E.rdf.databank.fn.init(S,R)};E.rdf.databank.fn=E.rdf.databank.prototype={init:function(T,R){var S;T=T||[];R=R||{};this.id=H();I[this.id]=this;if(R.union===undefined){this.queries={};this.tripleStore=[];this.subjectIndex={};this.propertyIndex={};this.objectIndex={};this.baseURI=R.base||E.uri.base();this.namespaces=E.extend({},R.namespaces||{});for(S=0;S<T.length;S+=1){this.add(T[S])}}else{this.union=R.union}return this},base:function(R){if(this.union===undefined){if(R===undefined){return this.baseURI}else{this.baseURI=R;return this}}else{if(R===undefined){return this.union[0].base()}else{E.each(this.union,function(T,S){S.base(R)});return this}}},prefix:function(T,R){var S={};if(this.union===undefined){if(T===undefined){return this.namespaces}else{if(R===undefined){return this.namespaces[T]}else{this.namespaces[T]=R;return this}}}else{if(R===undefined){E.each(this.union,function(V,U){E.extend(S,U.prefix())});if(T===undefined){return S}else{return S[T]}}else{E.each(this.union,function(V,U){U.prefix(T,R)});return this}}},add:function(X,S){var V=(S&&S.base)||this.base(),U=E.extend({},this.prefix(),(S&&S.namespaces)||{}),W=(S&&S.depth)||E.rdf.databank.defaults.depth,T=(S&&S.proxy)||E.rdf.databank.defaults.proxy,R;if(X===this){return this}else{if(X.subjectIndex!==undefined){if(this.union===undefined){R=E.rdf.databank(undefined,{union:[this,X]});return R}else{this.union.push(X);return this}}else{if(typeof X==="string"){X=E.rdf.triple(X,{namespaces:U,base:V,source:X})}if(this.union===undefined){if(this.subjectIndex[X.subject]===undefined){this.subjectIndex[X.subject]=[];if(W>0&&X.subject.type==="uri"){this.load(X.subject.value,{depth:W-1,proxy:T})}}if(this.propertyIndex[X.property]===undefined){this.propertyIndex[X.property]=[];if(W>0){this.load(X.property.value,{depth:W-1,proxy:T})}}if(E.inArray(X,this.subjectIndex[X.subject])===-1){this.tripleStore.push(X);this.subjectIndex[X.subject].push(X);this.propertyIndex[X.property].push(X);if(X.object.type==="uri"||X.object.type==="bnode"){if(this.objectIndex[X.object]===undefined){this.objectIndex[X.object]=[];if(W>0&&X.object.type==="uri"){this.load(X.object.value,{depth:W-1,proxy:T})}}this.objectIndex[X.object].push(X)}e(this,X)}}else{E.each(this.union,function(Z,Y){Y.add(X)})}return this}}},remove:function(X,U){var W=(U&&U.base)||this.base(),V=E.extend({},this.prefix(),(U&&U.namespaces)||{}),Y,S,R,T;if(typeof X==="string"){X=E.rdf.triple(X,{namespaces:V,base:W,source:X})}this.tripleStore.splice(E.inArray(X,this.tripleStore),1);Y=this.subjectIndex[X.subject];if(Y!==undefined){Y.splice(E.inArray(X,Y),1);if(E(Y).size()===0){delete this.subjectIndex[X.subject]}}S=this.propertyIndex[X.property];if(S!==undefined){S.splice(E.inArray(X,S),1);if(E(S).size()===0){delete this.propertyIndex[X.property]}}if(X.object.type==="uri"||X.object.type==="bnode"){R=this.objectIndex[X.object];if(R!==undefined){R.splice(E.inArray(X,R),1);if(E(R).size()===0){delete this.objectIndex[X.object]}}}s(this,X);return this},except:function(S){var R=S.subjectIndex,T=[];E.each(this.subjectIndex,function(V,W){var U=R[V];if(U===undefined){T=T.concat(W)}else{E.each(W,function(Y,X){if(E.inArray(X,U)===-1){T.push(X)}})}});return E.rdf.databank(T)},triples:function(){var R,S=[];if(this.union===undefined){S=this.tripleStore}else{E.each(this.union,function(U,T){S=S.concat(T.triples().get())});S=b(S)}return E(S)},size:function(){return this.triples().length},describe:function(U){var S,T,R,W={},V=[];while(U.length>0){T=U.pop();if(W[T]===undefined){if(T.value===undefined){T=E.rdf.resource(T)}if(this.subjectIndex[T]!==undefined){for(S=0;S<this.subjectIndex[T].length;S+=1){R=this.subjectIndex[T][S];V.push(R);if(R.object.type==="bnode"){U.push(R.object)}}}if(this.objectIndex[T]!==undefined){for(S=0;S<this.objectIndex[T].length;S+=1){R=this.objectIndex[T][S];V.push(R);if(R.subject.type==="bnode"){U.push(R.subject)}}}W[T]=true}}return b(V)},dump:function(R){R=E.extend({namespaces:this.namespaces,base:this.base},R||{});return E.rdf.dump(this.triples(),R)},load:function(X,R){var Y,ae,T,ab,S,U,ac=(R&&R.format),V=(R&&R.async)||E.rdf.databank.defaults.async,ad=(R&&R.success)||E.rdf.databank.defaults.success,aa=(R&&R.error)||E.rdf.databank.defaults.error,Z=(R&&R.proxy)||E.rdf.databank.defaults.proxy,W=(R&&R.depth)||E.rdf.databank.defaults.depth;T=(typeof X==="string"&&X.substring(1,7)==="http://")?E.uri(X):X;if(T.scheme){if(!l(this,T,{success:ad,error:aa})){ab='<script type="text/javascript" src="'+Z+"?id="+this.id+"&amp;depth="+W+"&amp;url="+encodeURIComponent(T.resolve("").toString())+'"><\/script>';if(V){setTimeout("$('head').append('"+ab+"')",0)}else{E("head").append(ab)}}return this}else{if(ac===undefined){if(typeof X==="string"){if(X.substring(0,1)==="{"){ac="application/json"}else{if(X.substring(0,14)==="<!DOCTYPE html"||X.substring(0,5)==="<html"){ac="application/xhtml+xml"}else{if(X.substring(0,5)==="<?xml"||X.substring(0,8)==="<rdf:RDF"){ac="application/rdf+xml"}else{ac="text/turtle"}}}}else{if(X.documentElement||X.ownerDocument){U=X.documentElement?X.documentElement:X.ownerDocument.documentElement;if(U.nodeName==="html"){ac="application/xhtml+xml"}else{ac="application/rdf+xml"}}else{ac="application/json"}}}S=E.rdf.parsers[ac];if(typeof X==="string"){X=S.parse(X)}ae=S.triples.call(this,X);for(Y=0;Y<ae.length;Y+=1){this.add(ae[Y],R)}return this}},toString:function(){return"[Databank with "+this.size()+" triples]"}};E.rdf.databank.fn.init.prototype=E.rdf.databank.fn;E.rdf.databank.defaults={parse:false,async:true,success:null,error:null,depth:0,proxy:"http://www.jenitennison.com/rdfquery/proxy.php"};E.rdf.databank.load=function(U,R,T,S){if(T!==undefined){I[U].load(T,S)}B(I[U],R,(T===undefined)?"error":"success",S)};E.rdf.pattern=function(V,X,U,T){var W,R,S;if(U===undefined){T=X||{};R=E.trim(V).match(g);if(R.length===3||(R.length===4&&R[3]===".")){V=R[0];X=R[1];U=R[2]}else{throw"Bad Pattern: Couldn't parse string "+V}S=(T.optional===undefined)?E.rdf.pattern.defaults.optional:T.optional}if(r[V]&&r[V][X]&&r[V][X][U]&&r[V][X][U][S]){return r[V][X][U][S]}W=new E.rdf.pattern.fn.init(V,X,U,T);if(r[W.subject]&&r[W.subject][W.property]&&r[W.subject][W.property][W.object]&&r[W.subject][W.property][W.object][W.optional]){return r[W.subject][W.property][W.object][W.optional]}else{if(r[W.subject]===undefined){r[W.subject]={}}if(r[W.subject][W.property]===undefined){r[W.subject][W.property]={}}if(r[W.subject][W.property][W.object]===undefined){r[W.subject][W.property][W.object]={}}r[W.subject][W.property][W.object][W.optional]=W;return W}};E.rdf.pattern.fn=E.rdf.pattern.prototype={init:function(S,U,V,R){var T=E.extend({},E.rdf.pattern.defaults,R);this.subject=S.toString().substring(0,1)==="?"?S:k(S,T);this.property=U.toString().substring(0,1)==="?"?U:M(U,T);this.object=V.toString().substring(0,1)==="?"?V:J(V,T);this.optional=T.optional;return this},fill:function(U){var R=this.subject,S=this.property,T=this.object;if(typeof R==="string"&&U[R.substring(1)]){R=U[R.substring(1)]}if(typeof S==="string"&&U[S.substring(1)]){S=U[S.substring(1)]}if(typeof T==="string"&&U[T.substring(1)]){T=U[T.substring(1)]}return E.rdf.pattern(R,S,T,{optional:this.optional})},exec:function(S){var R={};R=a(S.subject,this.subject,R);if(R===null){return null}R=a(S.property,this.property,R);if(R===null){return null}R=a(S.object,this.object,R);return R},isFixed:function(){return typeof this.subject!=="string"&&typeof this.property!=="string"&&typeof this.object!=="string"},triple:function(S){var R=this;if(!this.isFixed()){R=this.fill(S)}if(R.isFixed()){return E.rdf.triple(R.subject,R.property,R.object,{source:this.toString()})}else{return null}},toString:function(){return this.subject+" "+this.property+" "+this.object}};E.rdf.pattern.fn.init.prototype=E.rdf.pattern.fn;E.rdf.pattern.defaults={base:E.uri.base(),namespaces:{},optional:false};E.rdf.triple=function(U,W,T,S){var X,V,R;if(T===undefined){S=W;R=E.trim(U).match(g);if(R.length===3||(R.length===4&&R[3]===".")){U=R[0];W=R[1];T=R[2]}else{throw"Bad Triple: Couldn't parse string "+U}}V=(S&&S.graph)||"";if(D[V]&&D[V][U]&&D[V][U][W]&&D[V][U][W][T]){return D[V][U][W][T]}X=new E.rdf.triple.fn.init(U,W,T,S);V=X.graph||"";if(D[V]&&D[V][X.subject]&&D[V][X.subject][X.property]&&D[V][X.subject][X.property][X.object]){return D[V][X.subject][X.property][X.object]}else{if(D[V]===undefined){D[V]={}}if(D[V][X.subject]===undefined){D[V][X.subject]={}}if(D[V][X.subject][X.property]===undefined){D[V][X.subject][X.property]={}}D[V][X.subject][X.property][X.object]=X;return X}};E.rdf.triple.fn=E.rdf.triple.prototype={init:function(S,U,V,R){var T;T=E.extend({},E.rdf.triple.defaults,R);this.subject=k(S,T);this.property=M(U,T);this.object=J(V,T);this.graph=T.graph===undefined?undefined:k(T.graph,T);this.source=T.source;return this},isFixed:function(){return true},triple:function(R){return this},dump:function(){var T={},R=this.subject.value.toString(),S=this.property.value.toString();T[R]={};T[R][S]=this.object.dump();return T},toString:function(){return this.subject+" "+this.property+" "+this.object+" ."}};E.rdf.triple.fn.init.prototype=E.rdf.triple.fn;E.rdf.triple.defaults={base:E.uri.base(),source:[document],namespaces:{}};E.rdf.resource=function(T,R){var S;if(f[T]){return f[T]}S=new E.rdf.resource.fn.init(T,R);if(f[S]){return f[S]}else{f[S]=S;return S}};E.rdf.resource.fn=E.rdf.resource.prototype={type:"uri",value:undefined,init:function(W,S){var R,V,U,T;if(typeof W==="string"){R=z.exec(W);T=E.extend({},E.rdf.resource.defaults,S);if(R!==null){this.value=E.uri.resolve(R[1].replace(/\\>/g,">"),T.base)}else{if(W.substring(0,1)===":"){U=T.namespaces[""];if(U===undefined){throw"Malformed Resource: No namespace binding for default namespace in "+W}else{this.value=E.uri.resolve(U+W.substring(1))}}else{if(W.substring(W.length-1)===":"){V=W.substring(0,W.length-1);U=T.namespaces[V];if(U===undefined){throw"Malformed Resource: No namespace binding for prefix "+V+" in "+W}else{this.value=E.uri.resolve(U)}}else{try{this.value=E.curie(W,{namespaces:T.namespaces})}catch(X){throw"Malformed Resource: Bad format for resource "+X}}}}}else{this.value=W}return this},dump:function(){return{type:"uri",value:this.value.toString()}},toString:function(){return"<"+this.value+">"}};E.rdf.resource.fn.init.prototype=E.rdf.resource.fn;E.rdf.resource.defaults={base:E.uri.base(),namespaces:{}};E.rdf.type=E.rdf.resource("<"+w+"type>");E.rdf.label=E.rdf.resource("<"+u+"label>");E.rdf.first=E.rdf.resource("<"+w+"first>");E.rdf.rest=E.rdf.resource("<"+w+"rest>");E.rdf.nil=E.rdf.resource("<"+w+"nil>");E.rdf.subject=E.rdf.resource("<"+w+"subject>");E.rdf.property=E.rdf.resource("<"+w+"property>");E.rdf.object=E.rdf.resource("<"+w+"object>");E.rdf.blank=function(R){var S;if(c[R]){return c[R]}S=new E.rdf.blank.fn.init(R);if(c[S]){return c[S]}else{c[S]=S;return S}};E.rdf.blank.fn=E.rdf.blank.prototype={type:"bnode",value:undefined,id:undefined,init:function(R){if(R==="[]"){this.id=j();this.value="_:"+this.id}else{if(R.substring(0,2)==="_:"){this.id=R.substring(2);this.value=R}else{throw"Malformed Blank Node: "+R+" is not a legal format for a blank node"}}return this},dump:function(){return{type:"bnode",value:this.value}},toString:function(){return this.value}};E.rdf.blank.fn.init.prototype=E.rdf.blank.fn;E.rdf.literal=function(T,R){var S;if(t[T]){return t[T]}S=new E.rdf.literal.fn.init(T,R);if(t[S]){return t[S]}else{t[S]=S;return S}};E.rdf.literal.fn=E.rdf.literal.prototype={type:"literal",value:undefined,lang:undefined,datatype:undefined,init:function(V,S){var R,T,U=E.extend({},E.rdf.literal.defaults,S);T=E.safeCurie(U.datatype,{namespaces:U.namespaces});if(U.lang!==undefined&&U.datatype!==undefined&&T.toString()!==(w+"XMLLiteral")){throw"Malformed Literal: Cannot define both a language and a datatype for a literal ("+V+")"}if(U.datatype!==undefined){T=E.safeCurie(U.datatype,{namespaces:U.namespaces});E.extend(this,E.typedValue(V.toString(),T));if(T.toString()===w+"XMLLiteral"){this.lang=U.lang}}else{if(U.lang!==undefined){this.value=V.toString();this.lang=U.lang}else{if(typeof V==="boolean"){E.extend(this,E.typedValue(V.toString(),h+"boolean"))}else{if(typeof V==="number"){E.extend(this,E.typedValue(V.toString(),h+"double"))}else{if(V==="true"||V==="false"){E.extend(this,E.typedValue(V,h+"boolean"))}else{if(E.typedValue.valid(V,h+"integer")){E.extend(this,E.typedValue(V,h+"integer"))}else{if(E.typedValue.valid(V,h+"decimal")){E.extend(this,E.typedValue(V,h+"decimal"))}else{if(E.typedValue.valid(V,h+"double")&&!/^\s*([\-\+]?INF|NaN)\s*$/.test(V)){E.extend(this,E.typedValue(V,h+"double"))}else{R=O.exec(V);if(R!==null){this.value=(R[2]||R[4]).replace(/\\"/g,'"').replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r");if(R[9]){T=E.rdf.resource(R[9],U);E.extend(this,E.typedValue(this.value,T.value))}else{if(R[7]){this.lang=R[7]}}}else{throw"Malformed Literal: Couldn't recognise the value "+V}}}}}}}}}return this},dump:function(){var R={type:"literal",value:this.value.toString()};if(this.lang!==undefined){R.lang=this.lang}else{if(this.datatype!==undefined){R.datatype=this.datatype.toString()}}return R},toString:function(){var R='"'+this.value+'"';if(this.lang!==undefined){R+="@"+this.lang}else{if(this.datatype!==undefined){R+="^^<"+this.datatype+">"}}return R}};E.rdf.literal.fn.init.prototype=E.rdf.literal.fn;E.rdf.literal.defaults={base:E.uri.base(),namespaces:{},datatype:undefined,lang:undefined}})(jQuery);(function(a){a.rdf.parsers["application/json"]={parse:a.secureEvalJSON,serialize:a.toJSON,triples:function(f){var m,h,c,j,d,e,g,b,k=[];for(m in f){h=(m.substring(0,2)==="_:")?a.rdf.blank(m):a.rdf.resource("<"+m+">",{base:this.baseURI});for(c in f[m]){j=a.rdf.resource("<"+c+">",{base:this.baseURI});for(g=0;g<f[m][c].length;g+=1){d=f[m][c][g];if(d.type==="uri"){e=a.rdf.resource("<"+d.value+">",{base:this.baseURI})}else{if(d.type==="bnode"){e=a.rdf.blank(d.value)}else{if(d.datatype!==undefined){e=a.rdf.literal(d.value,{datatype:d.datatype,base:this.baseURI})}else{b={};if(d.lang!==undefined){b.lang=d.lang}var l=typeof d.value==="string"?d.value.replace(/\"/g,'\\"'):d.value;b.base=this.baseURI;e=a.rdf.literal('"'+l+'"',b)}}}k.push(a.rdf.triple(h,j,e))}}}return k},dump:function(h){var g={},c,b,d,f;for(c=0;c<h.length;c+=1){b=h[c];d=b.subject.value.toString();f=b.property.value.toString();if(g[d]===undefined){g[d]={}}if(g[d][f]===undefined){g[d][f]=[]}g[d][f].push(b.object.dump())}return g}}})(jQuery);(function(e){var b="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=function(w,u,t,x){var y=w.ownerDocument,s;if(u!==undefined&&u!==null){if(y.createAttributeNS){s=y.createAttributeNS(u,t);s.nodeValue=x;w.attributes.setNamedItemNS(s)}else{s=y.createNode(2,t,u);s.nodeValue=x;w.attributes.setNamedItem(s)}}else{s=y.createAttribute(t);s.nodeValue=x;w.attributes.setNamedItem(s)}return w},q=function(t,s,u){if(s==="http://www.w3.org/XML/1998/namespace"||s==="http://www.w3.org/2000/xmlns/"){}else{if(u){o(t,"http://www.w3.org/2000/xmlns/","xmlns:"+u,s)}else{o(t,undefined,"xmlns",s)}}return t},h=function(u,s){var x,y="",w,t=false;if(u!==undefined&&u!==null){if(/:/.test(s)){w=/([^:]+):/.exec(s)[1]}t=true}if(document.implementation&&document.implementation.createDocument){x=document.implementation.createDocument(u,s,null);if(t){q(x.documentElement,u,w)}return x}else{x=new ActiveXObject("Microsoft.XMLDOM");x.async="false";if(w===undefined){y=' xmlns="'+u+'"'}else{y=" xmlns:"+w+'="'+u+'"'}x.loadXML("<"+s+y+"/>");return x}},r=function(w,u,t,s){var y=w.ownerDocument,x;if(u!==undefined&&u!==null){x=y.createElementNS?y.createElementNS(u,t):y.createNode(1,t,u)}else{x=y.createElement(t)}if(s!==-1){d(w,"\n");if(s===0){d(w,"\n")}else{d(w,"  ")}}w.appendChild(x);return x},d=function(u,x){var w=u.ownerDocument,s;s=w.createTextNode(x);u.appendChild(s);return u},n=function(u,s){var z,x,t,y;try{x=new ActiveXObject("Microsoft.XMLDOM");x.async="false";x.loadXML("<temp>"+s+"</temp>")}catch(w){z=new DOMParser();x=z.parseFromString("<temp>"+s+"</temp>","text/xml")}for(t=0;t<x.documentElement.childNodes.length;t+=1){u.appendChild(x.documentElement.childNodes[t].cloneNode(true))}return u},g=function(I,K){var G=h(b,"rdf:RDF"),B=e.rdf.parsers["application/json"].dump(I),u=K.namespaces||{},x=K.indent||false,w,J,C,t,D,z,H,y,F,E,A;for(w in u){q(G.documentElement,u[w],w)}for(J in B){if(B[J][e.rdf.type.value]!==undefined){y=/(.+[#\/])([^#\/]+)/.exec(B[J][e.rdf.type.value][0].value);E=y[1];F=y[2];for(w in u){if(u[w].toString()===E){A=w;break}}C=r(G.documentElement,E,A+":"+F,x?0:-1)}else{C=r(G.documentElement,b,"rdf:Description",x?0:-1)}if(/^_:/.test(J)){o(C,b,"rdf:nodeID",J.substring(2))}else{o(C,b,"rdf:about",J)}for(t in B[J]){if(t!==e.rdf.type.value.toString()||B[J][t].length>1){y=/(.+[#\/])([^#\/]+)/.exec(t);E=y[1];F=y[2];for(w in u){if(u[w].toString()===E){A=w;break}}for(z=(t===e.rdf.type.value.toString()?1:0);z<B[J][t].length;z+=1){H=B[J][t][z];D=r(C,E,A+":"+F,x?1:-1);if(H.type==="uri"){o(D,b,"rdf:resource",H.value)}else{if(H.type==="literal"){if(H.datatype!==undefined){if(H.datatype==="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"){o(D,b,"rdf:parseType","Literal");if(x){d(D,"\n    ")}n(D,H.value);if(x){d(D,"\n  ")}}else{o(D,b,"rdf:datatype",H.datatype);d(D,H.value)}}else{if(H.lang!==undefined){o(D,"http://www.w3.org/XML/1998/namespace","xml:lang",H.lang);d(D,H.value)}else{d(D,H.value)}}}else{o(D,b,"rdf:nodeID",H.value.substring(2))}}}if(x){d(C,"\n")}}}}if(x){d(G.documentElement,"\n\n")}return G},a=function(s){switch(s){case"http://www.w3.org/1999/02/22-rdf-syntax-ns":return"rdf";case"http://www.w3.org/XML/1998/namespace":return"xml";case"http://www.w3.org/2000/xmlns/":return"xmlns";default:throw ("No default prefix mapped for namespace "+s)}},l=function(u,t,s){var x;if(u.hasAttributeNS){return u.hasAttributeNS(t,s)}else{try{x=/:/.test(s)?/:(.+)$/.exec(s)[1]:s;return u.attributes.getQualifiedItem(x,t)!==null}catch(w){return u.getAttribute(a(t)+":"+s)!==null}}},k=function(u,t,s){var x;if(u.getAttributeNS){return u.getAttributeNS(t,s)}else{try{x=/:/.test(s)?/:(.+)$/.exec(s)[1]:s;return u.attributes.getQualifiedItem(x,t).nodeValue}catch(w){return u.getAttribute(a(t)+":"+s)}}},m=function(s){return s.localName||s.baseName},j=function(w,x){var u,t;if(l(w,b,"about")){u=k(w,b,"about");t=e.rdf.resource("<"+u+">",{base:x})}else{if(l(w,b,"ID")){u=k(w,b,"ID");t=e.rdf.resource("<#"+u+">",{base:x})}else{if(l(w,b,"nodeID")){u=k(w,b,"nodeID");t=e.rdf.blank("_:"+u)}else{t=e.rdf.blank("[]")}}}return t},f=function(M,u,w,Q){var y,B,z,C,N,H,Q,G,F,A=1,P,O,J,s=[],x,L,I={},t,D=[];Q=k(M,"http://www.w3.org/XML/1998/namespace","lang")||Q;w=k(M,"http://www.w3.org/XML/1998/namespace","base")||w;if(Q!==null&&Q!==undefined&&Q!==""){I={lang:Q}}y=j(M,w);if(u&&(M.namespaceURI!==b||m(M)!=="Description")){z=e.rdf.type;N=e.rdf.resource("<"+M.namespaceURI+m(M)+">");D.push(e.rdf.triple(y,z,N))}for(G=0;G<M.attributes.length;G+=1){B=M.attributes.item(G);if(B.namespaceURI!==undefined&&B.namespaceURI!=="http://www.w3.org/2000/xmlns/"&&B.namespaceURI!=="http://www.w3.org/XML/1998/namespace"&&B.prefix!=="xmlns"&&B.prefix!=="xml"){if(B.namespaceURI!==b){z=e.rdf.resource("<"+B.namespaceURI+m(B)+">");N=e.rdf.literal(I.lang?B.nodeValue:'"'+B.nodeValue.replace(/"/g,'\\"')+'"',I);D.push(e.rdf.triple(y,z,N))}else{if(m(B)==="type"){z=e.rdf.type;N=e.rdf.resource("<"+B.nodeValue+">",{base:w});D.push(e.rdf.triple(y,z,N))}}}}var E=Q;for(G=0;G<M.childNodes.length;G+=1){B=M.childNodes[G];if(B.nodeType===1){if(B.namespaceURI===b&&m(B)==="li"){z=e.rdf.resource("<"+b+"_"+A+">");A+=1}else{z=e.rdf.resource("<"+B.namespaceURI+m(B)+">")}Q=k(B,"http://www.w3.org/XML/1998/namespace","lang")||E;if(Q!==null&&Q!==undefined&&Q!==""){I={lang:Q}}else{I={}}if(l(B,b,"resource")){C=k(B,b,"resource");N=e.rdf.resource("<"+C+">",{base:w})}else{if(l(B,b,"nodeID")){C=k(B,b,"nodeID");N=e.rdf.blank("_:"+C)}else{if(l(B,b,"parseType")){x=k(B,b,"parseType");if(x==="Literal"){try{L=new XMLSerializer();C=L.serializeToString(B.getElementsByTagName("*")[0])}catch(K){C="";for(F=0;F<B.childNodes.length;F+=1){C+=B.childNodes[F].xml}}N=e.rdf.literal(C,{datatype:b+"XMLLiteral"})}else{if(x==="Resource"){t=f(B,false,w,Q);if(t.length>0){N=t[t.length-1].subject;D=D.concat(t)}else{N=e.rdf.blank("[]")}}else{if(x==="Collection"){if(B.getElementsByTagName("*").length>0){for(F=0;F<B.childNodes.length;F+=1){C=B.childNodes[F];if(C.nodeType===1){s.push(C)}}P=e.rdf.blank("[]");N=P;for(F=0;F<s.length;F+=1){C=s[F];t=f(C,true,w,Q);if(t.length>0){J=t[t.length-1].subject;D=D.concat(t)}else{J=j(C)}D.push(e.rdf.triple(P,e.rdf.first,J));if(F===s.length-1){D.push(e.rdf.triple(P,e.rdf.rest,e.rdf.nil))}else{O=e.rdf.blank("[]");D.push(e.rdf.triple(P,e.rdf.rest,O));P=O}}}else{N=e.rdf.nil}}}}}else{if(l(B,b,"datatype")){C=B.childNodes[0].nodeValue?B.childNodes[0].nodeValue:"";N=e.rdf.literal(C,{datatype:k(B,b,"datatype")})}else{if(B.getElementsByTagName("*").length>0){for(F=0;F<B.childNodes.length;F+=1){C=B.childNodes[F];if(C.nodeType===1){t=f(C,true,w,Q);if(t.length>0){N=t[t.length-1].subject;D=D.concat(t)}else{N=j(C)}}}}else{if(B.childNodes.length>0){C=B.childNodes[0].nodeValue;N=e.rdf.literal(I.lang?C:'"'+C.replace(/"/g,'\\"')+'"',I)}else{t=f(B,false,w,Q);if(t.length>0){N=t[t.length-1].subject;D=D.concat(t)}else{N=e.rdf.blank("[]")}}}}}}}D.push(e.rdf.triple(y,z,N));if(l(B,b,"ID")){H=e.rdf.resource("<#"+k(B,b,"ID")+">",{base:w});D.push(e.rdf.triple(H,e.rdf.subject,y));D.push(e.rdf.triple(H,e.rdf.property,z));D.push(e.rdf.triple(H,e.rdf.object,N))}}}return D},c=function(t){var s,w,u,x=[];if(t.documentElement.namespaceURI===b&&m(t.documentElement)==="RDF"){w=k(t.documentElement,"http://www.w3.org/XML/1998/namespace","lang");base=k(t.documentElement,"http://www.w3.org/XML/1998/namespace","base")||e.uri.base();x=e.map(t.documentElement.childNodes,function(y){if(y.nodeType===1){return f(y,true,base,w)}else{return null}})}else{x=f(t.documentElement,true)}return x};e.rdf.parsers["application/rdf+xml"]={parse:function(s){var u;try{u=new ActiveXObject("Microsoft.XMLDOM");u.async="false";u.loadXML(s)}catch(t){var w=new DOMParser();u=w.parseFromString(s,"text/xml")}return u},serialize:function(s){if(s.xml){return s.xml.replace(/\s+$/,"")}else{serializer=new XMLSerializer();return serializer.serializeToString(s)}},triples:c,dump:g}})(jQuery);(function(j){var J={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",xsd:"http://www.w3.org/2001/XMLSchema#",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=J.rdf+"XMLLiteral",m=j.fn.curie.defaults,I=["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],A=/\s([^ =]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|([^ >]+))/g,x="[-A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\u00B7\u0300-\u036F\u203F-\u2040]",f="[\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]",l=new RegExp("^"+f+x+"*$"),q=j.rdf.resource("<>"),E=function(N){var L="",K,M;if(!/&/.test(N)){return N}while(N.length>0){K=/([^&]*)(&([^;]+);)(.*)/g.exec(N);if(K===null){L+=N;break}L+=K[1];M=K[3];N=K[4];if(M.charAt(0)==="#"){if(M.charAt(1)==="x"){L+=String.fromCharCode(parseInt(M.substring(2),16))}else{L+=String.fromCharCode(parseInt(M.substring(1),10))}}else{switch(M){case"amp":L+="&";break;case"nbsp":L+=String.fromCharCode(160);break;case"quot":L+='"';break;case"apos":L+="'";break;default:L+="&"+M+";"}}}return L},z=function(L){var M,R,S,U,K,T,Q,N,P={},O={};R=L[0];O[":length"]=0;if(R.attributes&&R.attributes.getNamedItemNS){Q=R.attributes;for(M=0;M<Q.length;M+=1){S=Q[M];if(/^xmlns(:(.+))?$/.test(S.nodeName)&&S.nodeValue!==""){N=/^xmlns(:(.+))?$/.exec(S.nodeName)[2]||"";if(l.test(N)&&(N!=="xml"||S.nodeValue===J.xml)&&(S.nodeValue!==J.xml||N==="xml")&&N!=="xmlns"&&S.nodeValue!==J.xmlns){O[N]=j.uri(S.nodeValue);O[":length"]+=1}}else{if(/rel|rev|lang|xml:lang|about|href|src|resource|property|typeof|content|datatype/.test(S.nodeName)){P[S.nodeName]=S.nodeValue===null?undefined:S.nodeValue}}}}else{U=/<[^>]+>/.exec(R.outerHTML);S=A.exec(U);while(S!==null){K=S[1];T=S[2]||S[3]||S[4];if(/^xmlns/.test(K)&&K!=="xmlns:"&&T!==""){N=/^xmlns(:(.+))?$/.exec(K)[2]||"";if(l.test(N)&&(N!=="xml"||S.nodeValue===J.xml)&&(S.nodeValue!==J.xml||N==="xml")&&N!=="xmlns"&&S.nodeValue!==J.xmlns){O[N]=j.uri(T);O[":length"]+=1}}else{if(/about|href|src|resource|property|typeof|content|datatype|rel|rev|lang|xml:lang/.test(K)){P[K]=E(T)}}S=A.exec(U)}A.lastIndex=0}return{atts:P,namespaces:O}},D=function(L,K){var M=L[0].getAttribute(K);return M===null?undefined:M},e=function(K){return j.rdf.resource(K)},d=function(M,N,L,K){if(M.substring(0,2)==="_:"){if(L){return undefined}return j.rdf.blank(M)}else{try{return e(j.curie(M,K))}catch(O){return undefined}}},h=function(O,M,L){var K=/^\[(.*)\]$/.exec(O),N=L.base||M.base();return K?d(K[1],M,false,L):e(j.uri(O,N))},r=function(O,N,M,K){var L,P,Q=[];O=O&&O.split?O.split(/[ \t\n\r\x0C]+/g):[];for(L=0;L<O.length;L+=1){if(O[L]!==""){P=d(O[L],N,M,K);if(P!==undefined){Q.push(P)}}}return Q},g=function(N,P,K){var L,M,O=[];P=P.type==="uri"?P:j.rdf.resource(P,K);N=N&&N.split?N.split(/\s+/):[];for(L=0;L<N.length;L+=1){if(N[L]!==""){M=d(N[L],null,false,K);if(M!==P){O.push(N[L])}}}return O.reverse().join(" ")},C=function(O,L,N){var M,P,Q,K;L=L||{};Q=L.atts||z(O).atts;M=N===undefined?Q.rel!==undefined||Q.rev!==undefined:N;P=Q.resource;P=P===undefined?Q.href:P;if(P===undefined){P=M?j.rdf.blank("[]"):P}else{K=L.curieOptions||j.extend({},m,{namespaces:O.xmlns()});P=h(P,O,K)}return P},w=function(Q,M,P){var O,R,K,L,N=false;M=M||{};R=M.atts||z(Q).atts;K=M.curieOptions||j.extend({},m,{namespaces:Q.xmlns(),base:Q.base()});O=P===undefined?R.rel!==undefined||R.rev!==undefined:P;if(R.about!==undefined){L=h(R.about,Q,K)}if(L===undefined&&R.src!==undefined){L=h(R.src,Q,K)}if(!O&&L===undefined&&R.resource!==undefined){L=h(R.resource,Q,K)}if(!O&&L===undefined&&R.href!==undefined){L=h(R.href,Q,K)}if(L===undefined){if(/^(head|body)$/i.test(Q[0].nodeName)){L=q}else{if(R["typeof"]!==undefined){L=j.rdf.blank("[]")}else{if(Q[0].parentNode.nodeType===1){L=M.object||C(Q.parent())||w(Q.parent()).subject;N=!O&&R.property===undefined}else{L=q}}}}return{subject:L,skip:N}},u=function(L,K){var N;K=K||{};if(K.atts){N=K.atts.lang;N=N||K.atts["xml:lang"]}else{N=L[0].getAttribute("lang");try{N=(N===null||N==="")?L[0].getAttribute("xml:lang"):N}catch(M){}N=(N===null||N==="")?undefined:N}if(N===undefined){if(K.lang){N=K.lang}else{if(L[0].parentNode.nodeType===1){N=u(L.parent())}}}return N},s=function(K){switch(K){case"<":return"&lt;";case'"':return"&quot;";case"&":return"&amp;"}},B=function(L,M){var N,O="",P,R,K,Q,S;L.contents().each(function(){var T=j(this),U=T[0];if(U.nodeType===1){K=U.nodeName.toLowerCase();O+="<"+K;if(U.outerHTML){S=/<[^>]+>/.exec(U.outerHTML);R=A.exec(S);while(R!==null){if(!/^jQuery/.test(R[1])){O+=" "+R[1]+"=";O+=R[2]?R[3]:'"'+R[1]+'"'}R=A.exec(S)}A.lastIndex=0}else{P=U.attributes;for(N=0;N<P.length;N+=1){R=P.item(N);O+=" "+R.nodeName+'="';O+=R.nodeValue.replace(/[<"&]/g,s);O+='"'}}if(!M){Q=T.xmlns("");if(Q!==undefined&&T.attr("xmlns")===undefined){O+=' xmlns="'+Q+'"'}}O+=">";O+=B(T,true);O+="</"+K+">"}else{if(U.nodeType===8){O+="<!--";O+=U.nodeValue;O+="-->"}else{O+=U.nodeValue}}});return O},H=function(M){var ad,Q,K,ai,X,ac,Y,W,ag,ae,U,R,N,Z,V,S,ab=[],P,af,L,aa,T,ah,O=this.children();M=M||{};V=M.forward||[];S=M.backward||[];P=M.callback||function(){return this};L=z(this);aa=L.atts;M.atts=aa;T=M.namespaces||this.xmlns();if(L.namespaces[":length"]>0){T=j.extend({},T);for(ah in L.namespaces){if(ah!==":length"){T[ah]=L.namespaces[ah]}}}M.curieOptions=j.extend({},m,{reserved:[],namespaces:T,base:this.base()});af=j.extend({},M.curieOptions,{reserved:I});Q=w(this,M);ai=u(this,M);if(Q.skip){N=M.forward;Z=M.backward;Q=M.subject;K=M.object}else{Q=Q.subject;if(V.length>0||S.length>0){U=M.subject||w(this.parent()).subject;for(ad=0;ad<V.length;ad+=1){ae=j.rdf.triple(U,V[ad],Q,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}for(ad=0;ad<S.length;ad+=1){ae=j.rdf.triple(Q,S[ad],U,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}K=C(this,M);W=r(aa["typeof"],this,false,M.curieOptions);for(ad=0;ad<W.length;ad+=1){ae=j.rdf.triple(Q,j.rdf.type,W[ad],{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}R=r(aa.property,this,true,M.curieOptions);if(R.length>0){X=aa.datatype;ac=aa.content;Y=this.text().replace(/"/g,'\\"');if(X!==undefined&&X!==""){X=j.curie(X,M.curieOptions);if(X.toString()===G){ag=j.rdf.literal(B(this),{datatype:G})}else{if(ac!==undefined){ag=j.rdf.literal(ac,{datatype:X})}else{ag=j.rdf.literal(Y,{datatype:X})}}}else{if(ac!==undefined){if(ai===undefined){ag=j.rdf.literal('"'+ac+'"')}else{ag=j.rdf.literal(ac,{lang:ai})}}else{if(O.length===0||X===""){ai=u(this,M);if(ai===undefined){ag=j.rdf.literal('"'+Y+'"')}else{ag=j.rdf.literal(Y,{lang:ai})}}else{ag=j.rdf.literal(B(this),{datatype:G})}}}for(ad=0;ad<R.length;ad+=1){ae=j.rdf.triple(Q,R[ad],ag,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}N=r(aa.rel,this,true,af);Z=r(aa.rev,this,true,af);if(aa.resource!==undefined||aa.href!==undefined){if(N!==undefined){for(ad=0;ad<N.length;ad+=1){ae=j.rdf.triple(Q,N[ad],K,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}N=[];if(Z!==undefined){for(ad=0;ad<Z.length;ad+=1){ae=j.rdf.triple(K,Z[ad],Q,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}Z=[]}}O.each(function(){ab=ab.concat(H.call(j(this),{forward:N,backward:Z,subject:Q,object:K||Q,lang:ai,namespaces:T,callback:P}))});return ab},y=function(K){var L,M;if(K&&K.about!==undefined){M=z(this).atts;if(K.about===null){return M.property!==undefined||M.rel!==undefined||M.rev!==undefined||M["typeof"]!==undefined}else{return w(this,{atts:M}).subject.value===K.about}}else{if(K&&K.type!==undefined){L=D(this,"typeof");if(L!==undefined){return K.type===null?true:this.curie(L)===K.type}return false}else{return H.call(this,K)}}},F=1,t=function(O,L,N){var K,M,P;try{M=O.createCurie(N)}catch(Q){if(N.toString()===G){O.attr("xmlns:rdf",J.rdf);M="rdf:XMLLiteral"}else{K=/^(.+[\/#])([^#]+)$/.exec(N);O.attr("xmlns:ns"+F,K[1]);M="ns"+F+":"+K[2];F+=1}}P=D(O,L);if(P!==undefined){if(j.inArray(M,P.split(/\s+/))===-1){O.attr(L,P+" "+M)}}else{O.attr(L,M)}},o=function(M,K,N){var L;if(N.type==="bnode"){L="[_:"+N.id+"]"}else{L=j(M).base().relative(N.value)}M.attr(K,L)},b=function(M,K){var L=w(M).subject;if(K!==L){o(M,"about",K)}M.removeData("rdfa.subject")},c=function(L,K){var M=C(L);if(K!==M){o(L,"resource",K)}L.removeData("rdfa.objectResource")},a=function(K,L){K.wrapInner("<span></span>").children("span").attr("lang",L);return K},k=function(V){var P,S,L,O,Y,W,M,Q,K,N,U,R,T,X=this.xmlns();Y=this;T=z(this).atts;if(typeof V==="string"){V=j.rdf.triple(V,{namespaces:X,base:this.base()})}else{if(V.rdfquery){k.call(this,V.sources().get(0));return this}else{if(V.length){for(R=0;R<V.length;R+=1){k.call(this,V[R])}return this}}}S=T.rel!==undefined||T.rev!==undefined;L=S||T.property!==undefined||T["typeof"]!==undefined;if(V.object.type!=="literal"){W=w(this,{atts:T},true).subject;Q=C(this,{atts:T},true);O=!L&&T.resource===undefined;M=W===V.subject;K=Q===V.object;if(V.property===j.rdf.type){if(M){t(this,"typeof",V.object.value)}else{if(L){Y=this.wrapInner("<span />").children("span");t(Y,"typeof",V.object.value);if(Q!==V.subject){b(Y,V.subject)}}else{t(this,"typeof",V.object.value);b(this,V.subject)}}}else{if(M){if(K){t(this,"rel",V.property.value)}else{if(O||!L){t(this,"rel",V.property.value);c(this,V.object)}else{Y=this.wrap("<span />").parent();t(Y,"rev",V.property.value);b(Y,V.object)}}}else{if(W===V.object){if(Q===V.subject){t(this,"rev",V.property.value)}else{if(O||!L){t(this,"rev",V.property.value);c(this,V.subject)}else{Y=this.wrap("<span />").parent();t(Y,"rel",V.property.value);b(Y,V.subject)}}}else{if(K){if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rev",V.property.value);c(Y,V.subject);Y=Y.wrapInner("<span />").children("span");b(Y,V.object);Y=this}else{b(this,V.subject);t(this,"rel",V.property.value)}}else{if(Q===V.subject){if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rel",this.property.value);c(Y,V.object);Y=Y.wrapInner("<span />").children("span");b(Y,Q);Y=this}else{b(this,V.object);t(this,"rev",V.property.value)}}else{if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rel",V.property.value);b(Y,V.subject);c(Y,V.object);if(Y.children("*").length>0){Y=this.wrapInner("<span />").children("span");b(Y,W)}Y=this}else{t(Y,"rel",V.property.value);b(this,V.subject);c(this,V.object);if(this.children("*").length>0){Y=this.wrapInner("<span />").children("span");b(Y,W);Y=this}}}}}}}}else{W=w(this,{atts:T}).subject;Q=C(this,{atts:T});M=W===V.subject;P=this.text()!==V.object.value;if(T.property!==undefined){U=T.content;K=U!==undefined?U===V.object.value:!P;if(M&&K){t(this,"property",V.property.value)}else{Y=this.wrapInner("<span />").children("span");return k.call(Y,V)}}else{if(Q===V.subject){Y=this.wrapInner("<span />").children("span");return k.call(Y,V)}t(this,"property",V.property.value);b(this,V.subject);if(P){if(V.object.datatype&&V.object.datatype.toString()===G){this.html(V.object.value)}else{this.attr("content",V.object.value)}}N=u(this);if(V.object.lang){if(N!==V.object.lang){this.attr("lang",V.object.lang);if(P){a(this,N)}}}else{if(V.object.datatype){t(this,"datatype",V.object.datatype)}else{if(!P){this.attr("datatype","")}if(N!==undefined){this.attr("lang","");if(P){a(this,N)}}}}}}this.parents().andSelf().trigger("rdfChange");return Y},n=function(Q){var O,R,P,K,L,N,M=this.xmlns();R=z(this).atts;if(Q.length){for(i=0;i<Q.length;i+=1){n.call(this,Q[i])}return this}hasRelation=R.rel!==undefined||R.rev!==undefined;hasRDFa=hasRelation||R.property!==undefined||R["typeof"]!==undefined;if(hasRDFa){if(Q.property!==undefined){if(R.property!==undefined){P=g(R.property,Q.property,{namespaces:M});if(P===""){this.removeAttr("property")}else{this.attr("property",P)}}if(R.rel!==undefined){K=g(R.rel,Q.property,{namespaces:M});if(K===""){this.removeAttr("rel")}else{this.attr("rel",K)}}if(R.rev!==undefined){L=g(R.rev,Q.property,{namespaces:M});if(L===""){this.removeAttr("rev")}else{this.attr("rev",L)}}}if(Q.type!==undefined){if(R["typeof"]!==undefined){N=g(R["typeof"],Q.type,{namespaces:M});if(N===""){this.removeAttr("typeof")}else{this.attr("typeof",N)}}}if(R.property===this.attr("property")&&R.rel===this.attr("rel")&&R.rev===this.attr("rev")&&R["typeof"]===this.attr("typeof")){return n.call(this.parent(),Q)}}this.parents().andSelf().trigger("rdfChange");return this};j.fn.rdfa=function(K){if(K===undefined){var L=j.map(j(this),function(M){return H.call(j(M))});return j.rdf({triples:L})}else{j(this).each(function(){k.call(j(this),K)});return this}};j.fn.removeRdfa=function(K){j(this).each(function(){n.call(j(this),K)});return this};j.rdf.gleaners.push(y)})(jQuery);(function(b){var a=1;b.rdf.ruleset=function(d,c){return new b.rdf.ruleset.fn.init(d,c)};b.rdf.ruleset.fn=b.rdf.ruleset.prototype={init:function(f,c){var d,e=b.extend({},b.rdf.ruleset.defaults,c);f=f||[];this.baseURI=e.base;this.namespaces=b.extend({},e.namespaces);this.rules=[];for(d=0;d<f.length;d+=1){this.add.apply(this,f[d])}return this},base:function(c){if(c===undefined){return this.baseURI}else{this.baseURI=c;return this}},prefix:function(d,c){if(d===undefined){return this.namespaces}else{if(c===undefined){return this.namespaces[d]}else{this.namespaces[d]=c;return this}}},size:function(){return this.rules.length},add:function(c,e){var d;if(e===undefined&&c.rules){this.rules=this.rules.concat(c.rules)}else{if(e===undefined&&c.lhs){d=c}else{d=b.rdf.rule(c,e,{namespaces:this.prefix(),base:this.base()})}if(b.inArray(d,this.rules)===-1){this.rules.push(d)}}return this},run:function(j,e){var f,h,d,g=b.extend({limit:50},e),c=g.limit;do{d=j.size();for(f=0;f<this.rules.length;f+=1){h=this.rules[f];h.run(j)}c-=1}while(j.size()>d&&c>0);return this}};b.rdf.ruleset.fn.init.prototype=b.rdf.ruleset.fn;b.rdf.ruleset.defaults={base:b.uri.base(),namespaces:{}};b.rdf.rule=function(c,e,d){return new b.rdf.rule.fn.init(c,e,d)};b.rdf.rule.fn=b.rdf.rule.prototype={init:function(c,h,e){var f=b.extend({},b.rdf.rule.defaults,e),g=[],d=false;if(typeof c==="string"){c=[c]}if(typeof h==="string"){h=[h]}this.lhs=b.map(c,function(j){if(b.isArray(j)){return[j]}else{if(b.isFunction(j)){return j}else{j=b.rdf.pattern(j,f);if(typeof j.subject==="string"){g.push(j.subject)}if(typeof j.property==="string"){g.push(j.property)}if(typeof j.object==="string"){g.push(j.object)}return j}}});g=b.unique(g);if(b.isFunction(h)){this.rhs=h}else{this.rhs=b.map(h,function(j){j=b.rdf.pattern(j,f);if((typeof j.subject==="string"&&b.inArray(j.subject,g)===-1)||(typeof j.property==="string"&&b.inArray(j.property,g)===-1)||(typeof j.object==="string"&&b.inArray(j.object,g)===-1)){throw"Bad Rule: Right-hand side of the rule contains a reference to an unbound wildcard"}else{if(j.subject.type==="bnode"||j.property.type==="bnode"||j.object.type==="bnode"){d=true}}return j})}this.rhsBlanks=d;this.cache={};return this},run:function(E,e){var f=b.rdf({databank:E}),A,h=b.extend({limit:50},e),C=h.limit,d,z,y,B,k,r,u,n,D=this.rhsBlanks,l,c,x,m;if(this.cache[E.id]===undefined){this.cache[E.id]={}}for(z=0;z<this.lhs.length;z+=1){A=this.lhs[z];if(b.isArray(A)){f=f.filter.apply(f,A)}else{if(b.isFunction(A)){f=f.filter.call(f,A)}else{f=f.where(this.lhs[z])}}}do{d=f.length;c=f.sources();for(z=0;z<d;z+=1){x=c[z];m=true;l=this.cache[E.id];for(y=0;y<x.length;y+=1){if(l[x[y]]===undefined){l[x[y]]={}}else{if(y===x.length-1){m=false}}l=l[x[y]]}if(m){n=f.eq(z);if(D){for(y=0;y<this.rhs.length;y+=1){B=this.rhs[y];k=B.subject;r=B.property;u=B.object;if(k.type==="bnode"){k=b.rdf.blank(""+k+a)}if(r.type==="bnode"){r=b.rdf.blank(""+r+a)}if(u.type==="bnode"){u=b.rdf.blank(""+u+a)}B=b.rdf.pattern(k,r,u);n.add(B)}a+=1}else{if(b.isFunction(this.rhs)){var w=n.map(this.rhs);for(var g=0;g<w.length;g++){if((w[g]) instanceof b.rdf.triple){f.add(w[g])}}}else{for(y=0;y<this.rhs.length;y+=1){n.add(this.rhs[y])}}}}}C-=1}while(f.length>d&&C>0);return this}};b.rdf.rule.fn.init.prototype=b.rdf.rule.fn;b.rdf.rule.defaults={base:b.uri.base(),namespaces:{}};b.extend(b.rdf.databank.fn,{reason:function(d,c){d.run(this,c);return this}});b.extend(b.rdf.fn,{reason:function(d,c){d.run(this.databank,c);return this}})})(jQuery);